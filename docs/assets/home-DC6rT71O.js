import{C as e,D as t,E as n,F as r,L as i,M as a,O as o,P as s,T as c,b as l,j as u,k as d,x as f,z as p}from"./index-ZxwZ-DFU.js";import{n as m,r as h}from"./api-CwVXzD2M.js";import{t as g}from"./echarts-0wnlM3u_.js";var _={class:`home-page`},v={class:`stat-value`},y={class:`stat-value`},b={class:`stat-value`},x={class:`stat-value`},S=n({__name:`index`,setup(n){let S=i(null),C=i(null),w=i(!0),T=null;function E(e,t){S.value&&(T=g(S.value),T.setOption({tooltip:{trigger:`axis`},legend:{data:t.map(e=>e.name),bottom:0},grid:{left:`3%`,right:`4%`,bottom:`15%`,top:`10%`,containLabel:!0},xAxis:{type:`category`,boundaryGap:!1,data:e},yAxis:{type:`value`},series:t}))}function D(){T?.resize()}return o(async()=>{w.value=!0;try{let[e,t]=await Promise.all([h(),m()]);C.value=e,E(t.xAxis,t.series)}finally{w.value=!1}window.addEventListener(`resize`,D)}),t(()=>{window.removeEventListener(`resize`,D),T?.dispose(),T=null}),(t,n)=>{let i=u(`el-card`),o=u(`el-col`),m=u(`el-row`),h=a(`loading`);return d(),e(`div`,_,[n[9]||=l(`h2`,{class:`page-title`},`数据概览`,-1),r((d(),f(m,{gutter:16,class:`stat-row`},{default:s(()=>[c(o,{span:6},{default:s(()=>[c(i,{shadow:`hover`,class:`stat-card`},{header:s(()=>[...n[0]||=[l(`span`,{class:`font-medium text-slate-700`},`残疾人总数`,-1)]]),default:s(()=>[l(`p`,v,p(C.value?.totalDisabled?.toLocaleString()??`-`),1),n[1]||=l(`p`,{class:`stat-desc`},`管辖区内入档人数`,-1)]),_:1})]),_:1}),c(o,{span:6},{default:s(()=>[c(i,{shadow:`hover`,class:`stat-card`},{header:s(()=>[...n[2]||=[l(`span`,{class:`font-medium text-slate-700`},`设备总数`,-1)]]),default:s(()=>[l(`p`,y,p(C.value?.totalDevice?.toLocaleString()??`-`),1),n[3]||=l(`p`,{class:`stat-desc`},`已绑定设备数量`,-1)]),_:1})]),_:1}),c(o,{span:6},{default:s(()=>[c(i,{shadow:`hover`,class:`stat-card`},{header:s(()=>[...n[4]||=[l(`span`,{class:`font-medium text-slate-700`},`今日预警`,-1)]]),default:s(()=>[l(`p`,b,p(C.value?.todayAlert?.toLocaleString()??`-`),1),n[5]||=l(`p`,{class:`stat-desc`},`待处理预警数`,-1)]),_:1})]),_:1}),c(o,{span:6},{default:s(()=>[c(i,{shadow:`hover`,class:`stat-card`},{header:s(()=>[...n[6]||=[l(`span`,{class:`font-medium text-slate-700`},`在线设备`,-1)]]),default:s(()=>[l(`p`,x,p(C.value?.onlineDevice?.toLocaleString()??`-`),1),n[7]||=l(`p`,{class:`stat-desc`},`当前在线`,-1)]),_:1})]),_:1})]),_:1})),[[h,w.value]]),c(i,{class:`chart-card`,shadow:`hover`},{header:s(()=>[...n[8]||=[l(`span`,{class:`font-medium text-slate-700`},`统计图表`,-1)]]),default:s(()=>[l(`div`,{ref_key:`chartRef`,ref:S,class:`chart-container`},null,512)]),_:1})])}}});export{S as default};