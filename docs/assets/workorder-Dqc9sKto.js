import{C as e,E as t,F as n,L as r,M as i,O as a,P as o,T as s,b as c,j as l,k as u,w as d,x as f,z as p}from"./index-ZxwZ-DFU.js";import{o as m}from"./api-CwVXzD2M.js";var h={class:`alert-workorder-page`},g={class:`toolbar`},_={class:`toolbar-left`},v={class:`pagination-wrap`},y=t({__name:`index`,setup(t){let y=r({list:[],total:0,page:1,pageSize:10}),b=r(!0),x=r(``);async function S(e=1,t=10){b.value=!0;try{y.value=await m({page:e,pageSize:t})}finally{b.value=!1}}function C(e){S(e,y.value.pageSize)}function w(e){S(1,e)}return a(()=>S()),(t,r)=>{let a=l(`el-option`),m=l(`el-select`),S=l(`el-form-item`),T=l(`el-button`),E=l(`el-form`),D=l(`el-table-column`),O=l(`el-tag`),k=l(`el-table`),A=l(`el-pagination`),j=i(`loading`);return u(),e(`div`,h,[c(`div`,g,[c(`div`,_,[s(E,{inline:``},{default:o(()=>[s(S,{label:`状态`},{default:o(()=>[s(m,{modelValue:x.value,"onUpdate:modelValue":r[0]||=e=>x.value=e,placeholder:`请选择`,clearable:``,style:{width:`120px`}},{default:o(()=>[s(a,{label:`待处理`,value:`pending`}),s(a,{label:`处理中`,value:`doing`}),s(a,{label:`已完成`,value:`done`})]),_:1},8,[`modelValue`])]),_:1}),s(S,null,{default:o(()=>[s(T,{type:`primary`},{default:o(()=>[...r[1]||=[d(`查询`,-1)]]),_:1})]),_:1})]),_:1})]),r[2]||=c(`div`,{class:`toolbar-right`},null,-1)]),n((u(),f(k,{data:y.value.list,stripe:``},{default:o(()=>[s(D,{prop:`id`,label:`工单ID`,width:`80`}),s(D,{prop:`title`,label:`工单内容`,"min-width":`160`}),s(D,{prop:`status`,label:`状态`,width:`100`},{default:o(({row:e})=>[s(O,{type:e.status===`已完成`?`success`:`warning`,size:`small`},{default:o(()=>[d(p(e.status),1)]),_:2},1032,[`type`])]),_:1}),s(D,{prop:`assignee`,label:`处理人`,width:`100`}),s(D,{prop:`time`,label:`派送时间`,width:`180`}),s(D,{label:`操作`,width:`80`},{default:o(()=>[s(T,{link:``,type:`primary`},{default:o(()=>[...r[3]||=[d(`查看过程`,-1)]]),_:1})]),_:1})]),_:1},8,[`data`])),[[j,b.value]]),c(`div`,v,[s(A,{"current-page":y.value.page,"page-size":y.value.pageSize,total:y.value.total,"page-sizes":[10,20,50],layout:`total, sizes, prev, pager, next`,onCurrentChange:C,onSizeChange:w},null,8,[`current-page`,`page-size`,`total`])])])}}});export{y as default};