import{C as e,E as t,F as n,L as r,M as i,O as a,P as o,S as s,T as c,b as l,j as u,k as d,v as f,w as p,x as m,z as h}from"./index-ZxwZ-DFU.js";import{u as g}from"./api-CwVXzD2M.js";var _={class:`archive-list-page`},v={class:`toolbar`},y={class:`toolbar-left`},b={class:`toolbar-right`},x={class:`pagination-wrap`},S=t({__name:`index`,setup(t){let S=r({list:[],total:0,page:1,pageSize:10}),C=r(!0),w=r(!1),T=r(null),E=r({name:``,idCard:``,phone:``});function D(e){T.value=e,w.value=!0}async function O(e=1,t=10){C.value=!0;try{S.value=await g({page:e,pageSize:t})}finally{C.value=!1}}function k(e){O(e,S.value.pageSize)}function A(e){O(1,e)}return a(()=>O()),(t,r)=>{let a=u(`el-input`),g=u(`el-form-item`),O=u(`el-button`),j=u(`el-form`),M=u(`el-table-column`),N=u(`el-table`),P=u(`el-pagination`),F=u(`el-divider`),I=u(`el-dialog`),L=i(`loading`);return d(),e(`div`,_,[l(`div`,v,[l(`div`,y,[c(j,{inline:``},{default:o(()=>[c(g,{label:`姓名`},{default:o(()=>[c(a,{modelValue:E.value.name,"onUpdate:modelValue":r[0]||=e=>E.value.name=e,placeholder:`请输入姓名`,clearable:``,style:{width:`140px`}},null,8,[`modelValue`])]),_:1}),c(g,{label:`身份证号`},{default:o(()=>[c(a,{modelValue:E.value.idCard,"onUpdate:modelValue":r[1]||=e=>E.value.idCard=e,placeholder:`请输入身份证号`,clearable:``,style:{width:`160px`}},null,8,[`modelValue`])]),_:1}),c(g,{label:`联系电话`},{default:o(()=>[c(a,{modelValue:E.value.phone,"onUpdate:modelValue":r[2]||=e=>E.value.phone=e,placeholder:`请输入联系电话`,clearable:``,style:{width:`140px`}},null,8,[`modelValue`])]),_:1}),c(g,null,{default:o(()=>[c(O,{type:`primary`},{default:o(()=>[...r[4]||=[p(`查询`,-1)]]),_:1})]),_:1})]),_:1})]),l(`div`,b,[c(O,{type:`primary`},{default:o(()=>[...r[5]||=[p(`新增`,-1)]]),_:1})])]),n((d(),m(N,{data:S.value.list,stripe:``},{default:o(()=>[c(M,{prop:`id`,label:`ID`,width:`80`}),c(M,{prop:`name`,label:`姓名`}),c(M,{prop:`idCard`,label:`身份证号`,width:`160`}),c(M,{prop:`phone`,label:`联系电话`,width:`120`}),c(M,{prop:`address`,label:`地址`,"min-width":`120`}),c(M,{label:`操作`,width:`200`,fixed:`right`},{default:o(({row:e})=>[c(O,{link:``,type:`primary`,onClick:t=>D(e)},{default:o(()=>[...r[6]||=[p(`详情`,-1)]]),_:1},8,[`onClick`]),c(O,{link:``,type:`primary`},{default:o(()=>[...r[7]||=[p(`编辑`,-1)]]),_:1}),c(O,{link:``,type:`danger`},{default:o(()=>[...r[8]||=[p(`删除`,-1)]]),_:1})]),_:1})]),_:1},8,[`data`])),[[L,C.value]]),l(`div`,x,[c(P,{"current-page":S.value.page,"page-size":S.value.pageSize,total:S.value.total,"page-sizes":[10,20,50],layout:`total, sizes, prev, pager, next`,onCurrentChange:k,onSizeChange:A},null,8,[`current-page`,`page-size`,`total`])]),c(I,{modelValue:w.value,"onUpdate:modelValue":r[3]||=e=>w.value=e,title:`档案详情`,size:`400px`},{default:o(()=>[T.value?(d(),e(f,{key:0},[l(`p`,null,[r[9]||=l(`strong`,null,`姓名：`,-1),p(h(T.value.name),1)]),l(`p`,null,[r[10]||=l(`strong`,null,`身份证号：`,-1),p(h(T.value.idCard),1)]),l(`p`,null,[r[11]||=l(`strong`,null,`联系电话：`,-1),p(h(T.value.phone),1)]),l(`p`,null,[r[12]||=l(`strong`,null,`地址：`,-1),p(h(T.value.address),1)]),c(F,null,{default:o(()=>[...r[13]||=[p(`亲友列表`,-1)]]),_:1}),r[14]||=l(`p`,{class:`placeholder`},`此处展示关联亲友列表（待对接接口）`,-1)],64)):s(``,!0)]),_:1},8,[`modelValue`])])}}});export{S as default};