import{C as e,E as t,F as n,L as r,M as i,O as a,P as o,T as s,b as c,j as l,k as u,w as d,x as f,z as p}from"./index-ZxwZ-DFU.js";import{d as m}from"./api-CwVXzD2M.js";var h={class:`archive-device-page`},g={class:`toolbar`},_={class:`toolbar-left`},v={class:`toolbar-right`},y={class:`pagination-wrap`},b=t({__name:`index`,setup(t){let b=r({list:[],total:0,page:1,pageSize:10}),x=r(!0),S=r(null);async function C(e=1,t=10){x.value=!0;try{b.value=await m({page:e,pageSize:t})}finally{x.value=!1}}function w(e){C(e,b.value.pageSize)}function T(e){C(1,e)}return a(()=>C()),(t,r)=>{let a=l(`el-option`),m=l(`el-select`),C=l(`el-form-item`),E=l(`el-button`),D=l(`el-form`),O=l(`el-table-column`),k=l(`el-tag`),A=l(`el-table`),j=l(`el-pagination`),M=i(`loading`);return u(),e(`div`,h,[c(`div`,g,[c(`div`,_,[s(D,{inline:``},{default:o(()=>[s(C,{label:`在线状态`},{default:o(()=>[s(m,{modelValue:S.value,"onUpdate:modelValue":r[0]||=e=>S.value=e,placeholder:`全部`,clearable:``,style:{width:`100px`}},{default:o(()=>[s(a,{label:`在线`,value:!0}),s(a,{label:`离线`,value:!1})]),_:1},8,[`modelValue`])]),_:1}),s(C,null,{default:o(()=>[s(E,{type:`primary`},{default:o(()=>[...r[1]||=[d(`查询`,-1)]]),_:1})]),_:1})]),_:1})]),c(`div`,v,[s(E,{type:`primary`},{default:o(()=>[...r[2]||=[d(`新增`,-1)]]),_:1})])]),n((u(),f(A,{data:b.value.list,stripe:``},{default:o(()=>[s(O,{prop:`id`,label:`ID`,width:`80`}),s(O,{prop:`deviceId`,label:`设备编号`,width:`120`}),s(O,{prop:`name`,label:`绑定人员`,width:`100`}),s(O,{label:`在线状态`,width:`100`},{default:o(({row:e})=>[s(k,{type:e.online?`success`:`info`,size:`small`},{default:o(()=>[d(p(e.online?`在线`:`离线`),1)]),_:2},1032,[`type`])]),_:1}),s(O,{label:`电量`,width:`100`},{default:o(({row:e})=>[d(p(e.battery)+`% `,1)]),_:1}),s(O,{prop:`location`,label:`位置`,"min-width":`140`}),s(O,{label:`操作`,width:`150`},{default:o(()=>[s(E,{link:``,type:`primary`},{default:o(()=>[...r[3]||=[d(`编辑`,-1)]]),_:1}),s(E,{link:``,type:`danger`},{default:o(()=>[...r[4]||=[d(`删除`,-1)]]),_:1})]),_:1})]),_:1},8,[`data`])),[[M,x.value]]),c(`div`,y,[s(j,{"current-page":b.value.page,"page-size":b.value.pageSize,total:b.value.total,"page-sizes":[10,20,50],layout:`total, sizes, prev, pager, next`,onCurrentChange:w,onSizeChange:T},null,8,[`current-page`,`page-size`,`total`])])])}}});export{b as default};