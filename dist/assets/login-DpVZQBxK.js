import{C as e,E as t,H as n,I as r,L as i,P as a,T as o,_ as s,b as c,g as l,i as u,j as d,k as f,n as p,r as m,t as h,w as g}from"./index-ZxwZ-DFU.js";var _={class:`login-page`},v=t({__name:`index`,setup(t){let n=p(),v=m(),{setToken:y}=h(),b=i(),x=i(!1),S=r({username:``,password:``}),C={username:[{required:!0,message:`请输入账号`,trigger:`blur`}],password:[{required:!0,message:`请输入密码`,trigger:`blur`}]};async function w(){b.value&&await b.value.validate(e=>{e&&T()})}function T(){x.value=!0,setTimeout(()=>{y(`mock-token-`+Date.now()),u.success(`登录成功`);let e=typeof n.query.redirect==`string`?n.query.redirect:`/home`;v.push(e),x.value=!1},300)}return(t,n)=>{let r=d(`el-input`),i=d(`el-form-item`),u=d(`el-button`),p=d(`el-form`),m=d(`el-card`);return f(),e(`div`,_,[o(m,{class:`login-card`,shadow:`always`},{header:a(()=>[...n[2]||=[c(`span`,{class:`card-title`},`后台登录`,-1)]]),default:a(()=>[o(p,{ref_key:`formRef`,ref:b,model:S,rules:C,"label-width":`0`,onSubmit:s(w,[`prevent`])},{default:a(()=>[o(i,{prop:`username`},{default:a(()=>[o(r,{modelValue:S.username,"onUpdate:modelValue":n[0]||=e=>S.username=e,placeholder:`账号`,size:`large`,clearable:``},null,8,[`modelValue`])]),_:1}),o(i,{prop:`password`},{default:a(()=>[o(r,{modelValue:S.password,"onUpdate:modelValue":n[1]||=e=>S.password=e,type:`password`,placeholder:`密码`,size:`large`,"show-password":``,clearable:``,onKeyup:l(w,[`enter`])},null,8,[`modelValue`])]),_:1}),o(i,null,{default:a(()=>[o(u,{type:`primary`,size:`large`,loading:x.value,class:`submit-btn`,onClick:w},{default:a(()=>[...n[3]||=[g(` 登录 `,-1)]]),_:1},8,[`loading`])]),_:1})]),_:1},8,[`model`])]),_:1})])}}});export{v as default};