import{A as e,C as t,E as n,L as r,N as i,P as a,R as o,S as s,T as c,a as l,b as u,c as d,d as f,f as p,h as m,j as h,k as g,l as _,m as v,n as y,o as b,p as x,r as S,s as C,t as w,u as T,v as E,w as D,x as O,y as k,z as A}from"./index-ZxwZ-DFU.js";var j={class:`logo text-sm tracking-wide`},M={class:`header-left`},N={key:1},P={class:`user-dropdown`},F=n({__name:`index`,setup(n){let F=y(),I=S(),{clearToken:L}=w(),R=r(!1),z=k(()=>I.options.routes.find(e=>e.path===`/`&&e.children?.length)),B=k(()=>{let e=(z.value?.children??[]).filter(e=>e.meta?.sidebarTitle||e.meta?.sidebarGroup),t=new Map,n=[];for(let r of e){let e=r.meta??{},i=e.sidebarGroup;r.path.startsWith(`/`)?r.path:`${r.path}`,i?(t.get(i)||t.set(i,{title:i,icon:e.sidebarGroupIcon??void 0,routes:[]}),t.get(i).routes.push(r)):n.push(r)}return{topLevel:n,groups:Array.from(t.entries())}}),V=k(()=>F.matched.filter(e=>e.meta?.title).map(e=>({path:e.path,title:e.meta.title})));function H(){L(),I.push(`/login`)}let U={HomeFilled:f,Folder:T,Setting:p,View:m,Bell:b,DataLine:C};return(n,r)=>{let p=h(`el-icon`),m=h(`el-menu-item`),y=h(`el-sub-menu`),b=h(`el-menu`),S=h(`el-aside`),C=h(`el-button`),w=h(`router-link`),k=h(`el-breadcrumb-item`),I=h(`el-breadcrumb`),L=h(`el-dropdown-item`),z=h(`el-dropdown-menu`),W=h(`el-dropdown`),G=h(`el-header`),K=h(`router-view`),q=h(`el-main`),J=h(`el-container`);return g(),O(J,{class:`layout-container`},{default:a(()=>[c(S,{width:R.value?`64px`:`200px`,class:`layout-aside shadow-sm`},{default:a(()=>[u(`div`,j,A(R.value?`管`:`后台管理`),1),c(b,{"default-active":o(F).path,collapse:R.value,router:``,class:`layout-menu`},{default:a(()=>[(g(!0),t(E,null,e(B.value.topLevel,e=>(g(),O(m,{key:e.path,index:e.path.startsWith(`/`)?e.path:`/${e.path}`},{title:a(()=>[D(A(e.meta?.sidebarTitle??e.meta?.title),1)]),default:a(()=>[e.meta?.sidebarIcon?(g(),O(p,{key:0},{default:a(()=>[(g(),O(i(U[e.meta?.sidebarIcon]??o(f))))]),_:2},1024)):s(``,!0)]),_:2},1032,[`index`]))),128)),(g(!0),t(E,null,e(B.value.groups,([n,r])=>(g(),O(y,{key:n,index:n},{title:a(()=>[c(p,null,{default:a(()=>[(g(),O(i(U[r.icon??`Folder`]??o(T))))]),_:2},1024),u(`span`,null,A(r.title),1)]),default:a(()=>[(g(!0),t(E,null,e(r.routes,e=>(g(),O(m,{key:e.path,index:e.path.startsWith(`/`)?e.path:`/${e.path}`},{default:a(()=>[D(A(e.meta?.sidebarTitle??e.meta?.title),1)]),_:2},1032,[`index`]))),128))]),_:2},1032,[`index`]))),128))]),_:1},8,[`default-active`,`collapse`])]),_:1},8,[`width`]),c(J,{direction:`vertical`},{default:a(()=>[c(G,{class:`layout-header shadow-sm`},{default:a(()=>[u(`div`,M,[c(C,{link:``,type:`primary`,class:`collapse-btn`,onClick:r[0]||=e=>R.value=!R.value},{default:a(()=>[c(p,null,{default:a(()=>[R.value?(g(),O(o(d),{key:1})):(g(),O(o(_),{key:0}))]),_:1})]),_:1}),c(I,{separator:`/`},{default:a(()=>[(g(!0),t(E,null,e(V.value,(e,n)=>(g(),O(k,{key:e.path},{default:a(()=>[n<V.value.length-1?(g(),O(w,{key:0,to:e.path},{default:a(()=>[D(A(e.title),1)]),_:2},1032,[`to`])):(g(),t(`span`,N,A(e.title),1))]),_:2},1024))),128))]),_:1})]),c(W,{trigger:`click`,onCommand:H},{dropdown:a(()=>[c(z,null,{default:a(()=>[c(L,{command:`logout`},{default:a(()=>[c(p,null,{default:a(()=>[c(o(x))]),_:1}),r[2]||=D(` 退出登录 `,-1)]),_:1})]),_:1})]),default:a(()=>[u(`span`,P,[c(p,null,{default:a(()=>[c(o(v))]),_:1}),r[1]||=u(`span`,null,`管理员`,-1),c(p,{class:`el-icon--right`},{default:a(()=>[c(o(l))]),_:1})])]),_:1})]),_:1}),c(q,{class:`layout-main min-h-0`},{default:a(()=>[c(K)]),_:1})]),_:1})]),_:1})}}});export{F as default};